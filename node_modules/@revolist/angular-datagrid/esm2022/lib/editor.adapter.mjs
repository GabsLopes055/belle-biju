import { TemplateConstructor } from './renderer';
export class EditorAdapter {
    constructor(EditorComponent, injector, column, save, close) {
        this.EditorComponent = EditorComponent;
        this.injector = injector;
        this.column = column;
        this.save = save;
        this.close = close;
        this.element = null;
        this.renderedComponent = null;
    }
    // optional, called after editor rendered
    componentDidRender() { }
    // optional, called after editor destroyed
    disconnectedCallback() {
        this.renderedComponent?.destroy();
        this.renderedComponent = null;
    }
    render(h) {
        return h('span', {
            key: `${this.column.prop}-${this.editCell?.rowIndex || 0}`,
            ref: (el) => this.renderedComponent = TemplateConstructor(el, this.EditorComponent, {
                ...this.editCell,
                column: this.column,
                save: this.save,
                close: this.close,
            }, this.injector),
        });
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdG9yLmFkYXB0ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyLWRhdGFncmlkL3NyYy9saWIvZWRpdG9yLmFkYXB0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLG1CQUFtQixFQUFxQyxNQUFNLFlBQVksQ0FBQztBQVVwRixNQUFNLE9BQU8sYUFBYTtJQUt4QixZQUNVLGVBQTBCLEVBQzFCLFFBQWtCLEVBQ25CLE1BQTZCLEVBQzVCLElBQWtELEVBQ2xELEtBQW9DO1FBSnBDLG9CQUFlLEdBQWYsZUFBZSxDQUFXO1FBQzFCLGFBQVEsR0FBUixRQUFRLENBQVU7UUFDbkIsV0FBTSxHQUFOLE1BQU0sQ0FBdUI7UUFDNUIsU0FBSSxHQUFKLElBQUksQ0FBOEM7UUFDbEQsVUFBSyxHQUFMLEtBQUssQ0FBK0I7UUFUdkMsWUFBTyxHQUEwQixJQUFJLENBQUM7UUFFckMsc0JBQWlCLEdBQWtDLElBQUksQ0FBQztJQVE3RCxDQUFDO0lBRUoseUNBQXlDO0lBQ3pDLGtCQUFrQixLQUFJLENBQUM7SUFFdkIsMENBQTBDO0lBQzFDLG9CQUFvQjtRQUNsQixJQUFJLENBQUMsaUJBQWlCLEVBQUUsT0FBTyxFQUFFLENBQUM7UUFDbEMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQztJQUNoQyxDQUFDO0lBRUQsTUFBTSxDQUFDLENBQW1CO1FBQ3hCLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRTtZQUNmLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUUsUUFBUSxJQUFJLENBQUMsRUFBRTtZQUMxRCxHQUFHLEVBQUUsQ0FBQyxFQUFrQixFQUFFLEVBQUUsQ0FDMUIsSUFBSSxDQUFDLGlCQUFpQixHQUFHLG1CQUFtQixDQUMxQyxFQUFFLEVBQ0YsSUFBSSxDQUFDLGVBQWUsRUFDcEI7Z0JBQ0UsR0FBRyxJQUFJLENBQUMsUUFBUTtnQkFDaEIsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNO2dCQUNuQixJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUk7Z0JBQ2YsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO2FBQ2xCLEVBQ0QsSUFBSSxDQUFDLFFBQVEsQ0FDZDtTQUNGLENBQUMsQ0FBQztJQUNQLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgRWRpdENlbGwsIENvbHVtbkRhdGFTY2hlbWFNb2RlbCwgSHlwZXJGdW5jLCBWTm9kZSwgRWRpdG9yQmFzZSB9IGZyb20gJ0ByZXZvbGlzdC9yZXZvZ3JpZCc7XG5pbXBvcnQgeyBJbmplY3RvciwgVHlwZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVGVtcGxhdGVDb25zdHJ1Y3RvciwgUmVuZGVyZWRDb21wb25lbnQsIEFuZ3VsYXJFbGVtZW50IH0gZnJvbSAnLi9yZW5kZXJlcic7XG4vKipcbiAqIERhdGEgcGFzc2VkIHRvIGVkaXRvclxuICovXG5leHBvcnQgdHlwZSBFZGl0b3JUeXBlID0ge1xuICBjb2x1bW46IENvbHVtbkRhdGFTY2hlbWFNb2RlbDtcbiAgc2F2ZTogKHZhbHVlOiBhbnksIHByZXZlbnRGb2N1cz86IGJvb2xlYW4pID0+IHZvaWQ7XG4gIGNsb3NlOiAoZm9jdXNOZXh0PzogYm9vbGVhbikgPT4gdm9pZDtcbn0gJiBQYXJ0aWFsPEVkaXRDZWxsPjtcblxuZXhwb3J0IGNsYXNzIEVkaXRvckFkYXB0ZXIgaW1wbGVtZW50cyBFZGl0b3JCYXNlICB7XG4gIHB1YmxpYyBlbGVtZW50OiBBbmd1bGFyRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwdWJsaWMgZWRpdENlbGw/OiBFZGl0Q2VsbDtcbiAgcHJpdmF0ZSByZW5kZXJlZENvbXBvbmVudDogUmVuZGVyZWRDb21wb25lbnQ8YW55PiB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgRWRpdG9yQ29tcG9uZW50OiBUeXBlPGFueT4sXG4gICAgcHJpdmF0ZSBpbmplY3RvcjogSW5qZWN0b3IsXG4gICAgcHVibGljIGNvbHVtbjogQ29sdW1uRGF0YVNjaGVtYU1vZGVsLFxuICAgIHByaXZhdGUgc2F2ZTogKHZhbHVlOiBhbnksIHByZXZlbnRGb2N1cz86IGJvb2xlYW4pID0+IHZvaWQsXG4gICAgcHJpdmF0ZSBjbG9zZTogKGZvY3VzTmV4dD86IGJvb2xlYW4pID0+IHZvaWQsXG4gICkge31cblxuICAvLyBvcHRpb25hbCwgY2FsbGVkIGFmdGVyIGVkaXRvciByZW5kZXJlZFxuICBjb21wb25lbnREaWRSZW5kZXIoKSB7fVxuXG4gIC8vIG9wdGlvbmFsLCBjYWxsZWQgYWZ0ZXIgZWRpdG9yIGRlc3Ryb3llZFxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLnJlbmRlcmVkQ29tcG9uZW50Py5kZXN0cm95KCk7XG4gICAgdGhpcy5yZW5kZXJlZENvbXBvbmVudCA9IG51bGw7XG4gIH1cblxuICByZW5kZXIoaDogSHlwZXJGdW5jPFZOb2RlPikge1xuICAgIHJldHVybiBoKCdzcGFuJywge1xuICAgICAga2V5OiBgJHt0aGlzLmNvbHVtbi5wcm9wfS0ke3RoaXMuZWRpdENlbGw/LnJvd0luZGV4IHx8IDB9YCxcbiAgICAgIHJlZjogKGVsOiBBbmd1bGFyRWxlbWVudCkgPT4gXG4gICAgICAgIHRoaXMucmVuZGVyZWRDb21wb25lbnQgPSBUZW1wbGF0ZUNvbnN0cnVjdG9yKFxuICAgICAgICAgIGVsLFxuICAgICAgICAgIHRoaXMuRWRpdG9yQ29tcG9uZW50LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIC4uLnRoaXMuZWRpdENlbGwsXG4gICAgICAgICAgICBjb2x1bW46IHRoaXMuY29sdW1uLFxuICAgICAgICAgICAgc2F2ZTogdGhpcy5zYXZlLFxuICAgICAgICAgICAgY2xvc2U6IHRoaXMuY2xvc2UsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aGlzLmluamVjdG9yLFxuICAgICAgICApLFxuICAgICAgfSk7XG4gIH1cbn1cbiJdfQ==